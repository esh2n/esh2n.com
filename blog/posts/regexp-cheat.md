---
title: '【メモ】いまさら正規表現入門'
date: '2019-11-10'
display: home
tags:
  - チートシート
  - 正規表現
categories:
  - Programming
image: https://yoshikawaweb.com/w/wp-content/uploads/regex-cheat-sheet-for-text-editor.png
---

# はじめに

> 「正規表現ってちょっと難しそうだからまた今度勉強しよう・・・」って先延ばしにしていたら３ヶ月経っていた人向けの記事です。

## 正規表現って？

正規表現とは、

`いくつかの文字列を１つの文字列で表現する方法`

例えば、

```example
090-0000-0000     // 電話番号
111-0000          // 郵便番号
```

こいつらは、

```example
/\d{3}-\d{4}-\d{4}/
/\d{3}-\d{4}/
```

こう表せます。

ちなみに正規表現を英語にすると`Regular Expression`で、しばしば`regex`や　`regexp`と略されるそうです。

どちらが正しいのかは[こちら](https://stackoverflow.com/questions/3058246/which-is-the-correct-shorthand-regex-or-regexp/3058259?stw=2#3058259)で議論されていて、
結果的にどちらでも良いと結論づけられています。

なお、ベストアンサーは`/regexp?/`です。
`?`は`p`の有無を両方許容すると言う意味です。

## 1. /<正規表現>/

~~正規表現を書くときは`/(スラッシュ)`で囲みます。~~

言語によるみたいです。

## 2. /<正規表現>/g

文末に`g`がある状態すなわち、
/<正規表現>/`g`だと全ての文章からマッチするものを全て見つける。
逆に`g`を付けなければはじめてマッチした時点で処理をストップする。

/<正規表現>/g`?`

## 3. \d の意味

正規表現において`\d`は`半角数字`を表します。
なので、

```
444 <=> /\d\d\d/
20191110 <=> /\d\d\d\d\d\d\d\d/
```

であり、

```
444 <=> /\d{3}/
20191110 <=> /\d{8}/
```

であり、

```
444, 20191110 <=> /\d{3,8}/
```

とも表せます.

## 4. []の意味

`[AB]`の意味は`AもしくはB`と言う意味です。

```
America, Bmerica <=> /[AB]merica/
```

また`[a-z]`は`a || b || c || ... || z`と言う意味になります。`[0-9]`や`[A-Z]`についても同様です。

## 5. 他の様々なメタ文字

| メタ文字 | 意味                                         |                        備考                        |
| :------: | :------------------------------------------- | :------------------------------------------------: |
|    .     | 任意の一文字                                 |                                                    |
|    ?     | 直前の文字列の有無の許容, 最短のマッチを返す |                      "(.\*?)"                      |
|    +     | 直前の文字が１文字以上                       |                                                    |
|    ()    | 括弧内がキャプチャされる, グループ化         |               (?: )でキャプチャ回避                |
|    \*    | 直前の文字が 0 文字以上                      |                                                    |
|    \w    | [a-zA-z0-9_]                                 |                   \W は\w の否定                   |
|    ^     | 直後の文字以外, 行頭                         |                        [^a]                        |
|    \$    | 行末                                         |                                                    |
|    \t    | タブ                                         |                                                    |
|    \s    | スペース                                     | 環境によって意味が異なる場合がある, \S は\s の否定 |
|    ｜    | OR                                           |                      (A ｜ B)                      |
|    \n    | 改行文字                                     |                windows 環境だと\r\n                |
|    \b    | 単語の境界                                   |                   \B は\b の否定                   |
|  (?<=)   | =の直後文字列の直後の位置にマッチする        |                                                    |
|  (?=:)   | :の直後の文字列の直前の位置にマッチする      |                                                    |
|  (?<!)   | !の直後の文字列以外の直後の位置にマッチする  |                                                    |
|   (?!)   | !の直後の文字列以外の直前の位置にマッチする  |                                                    |
|    \1    | キャプチャされた１番目の文字列               |                                                    |

### 参考にした記事

- [初心者歓迎！手と目で覚える正規表現入門・その１「さまざまな形式の電話番号を検索しよう」](https://qiita.com/jnchito/items/893c887fbf19e17d3ff9)
- [サルにもわかる正規表現入門](https://www.mnet.ne.jp/~nakama/)
- [正規表現とは?](https://qiita.com/soarflat/items/2b50c1efe2ea54a762d7)
